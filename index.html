<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Love Gift For You ‚ù§Ô∏è</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading">
        <div class="heart-container">
            <div class="loading-wrapper">
                <div class="heart"></div>
                <div class="loading-text">ƒêang t·∫£i nh·ªØng ƒëi·ªÅu b·∫•t ng·ªù...</div>
            </div>
        </div>
    </div>

    <!-- Initial Modal -->
    <div id="modal-main" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>B·∫°n C√≥ Mu·ªën Nh·∫≠n Qu√† Kh√¥ng?</h2>
            </div>
            <div class="modal-body">
                <div class="button-container">
                    <button id="btn-yes" class="btn-3d">ƒê·ªíNG √ù</button>
                    <button id="btn-no" class="btn-3d">KH√îNG</button>
                </div>
            </div>
        </div>
    </div>

    <!-- No Choice Modal -->
    <div id="modal-no" class="modal">
        <div class="modal-content shake-animation">
            <div class="modal-header">
                <h2>Em Kh√¥ng Mu·ªën Nh·∫≠n Qu√† C·ªßa Anh Th·∫≠t Sao? üò¢</h2>
            </div>
            <div class="modal-body">
                <button id="btn-choose-again" class="btn-3d">Ch·ªçn L·∫°i</button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div id="main-content" style="display: none;">
        <!-- Background Elements -->
        <div class="background-elements">
            <div class="clouds-container">
                <img src="./asset/cloud.png" alt="Cloud 1" class="cloud-img cloud-left">
                <img src="./asset/cloud.png" alt="Cloud 2" class="cloud-img cloud-right">
                <img src="./asset/cloud.png" alt="Cloud 3" class="cloud-img cloud-left-slow">
                <img src="./asset/cloud.png" alt="Cloud 4" class="cloud-img cloud-right-slow">
                <img src="./asset/cloud.png" alt="Cloud 1" class="cloud-img cloud-left">
                <img src="./asset/cloud.png" alt="Cloud 2" class="cloud-img cloud-right">
                <img src="./asset/cloud.png" alt="Cloud 3" class="cloud-img cloud-left-slow">
                <img src="./asset/cloud.png" alt="Cloud 4" class="cloud-img cloud-right-slow">
                <img src="./asset/cloud.png" alt="Cloud 5" class="cloud-img cloud-left-medium">
                <img src="./asset/cloud.png" alt="Cloud 6" class="cloud-img cloud-right-medium">
                <img src="./asset/cloud.png" alt="Cloud 7" class="cloud-img cloud-float">
                <img src="./asset/cloud.png" alt="Cloud 8" class="cloud-img cloud-float-reverse">
            </div>
            <div class="stars"></div>
            <div class="fog-layer"></div>
        </div>


        <div class="floating-hearts-container">
            <!-- Pre-loaded hearts -->
            <img src="./asset/heart.png" alt="heart" class="heart-image small" style="left: 10%; --startX: 50px; --duration: 6s;">
            <img src="./asset/heart1.png" alt="heart" class="heart-image medium" style="left: 20%; --startX: -30px; --duration: 7s;">
            <img src="./asset/heart.png" alt="heart" class="heart-image large" style="left: 30%; --startX: 70px; --duration: 8s;">
            <img src="./asset/heart1.png" alt="heart" class="heart-image small" style="left: 40%; --startX: -20px; --duration: 6.5s;">
            <img src="./asset/heart.png" alt="heart" class="heart-image medium" style="left: 50%; --startX: 40px; --duration: 7.5s;">
            <img src="./asset/heart1.png" alt="heart" class="heart-image large" style="left: 60%; --startX: -50px; --duration: 8.5s;">
            <img src="./asset/heart.png" alt="heart" class="heart-image small" style="left: 70%; --startX: 30px; --duration: 6s;">
            <img src="./asset/heart1.png" alt="heart" class="heart-image medium" style="left: 80%; --startX: -40px; --duration: 7s;">
            <img src="./asset/heart.png" alt="heart" class="heart-image large" style="left: 90%; --startX: 60px; --duration: 8s;">
            <!-- More hearts will be added dynamically -->
        </div>
        <!-- Gift Section -->
        <div class="gift-section">
            <div id="gift-box" class="gift-box">
                <img src="./asset/gif_box.png" alt="Gift Box" class="gift-image">
                <div class="gift-glow"></div>
            </div>

            <!-- Gift Content -->
            <div id="gift-content" class="gift-content" style="display: none;">
                <button class="close-btn">√ó</button>
                <div class="photo-frame">
                    <img src="./asset/ny.jpg" alt="Love Photo" class="love-photo">
                </div>
                <div class="message">
                    <h3>G·ª≠i b·∫°n Y√™u ‚ù§Ô∏è</h3>
                    <p class="love-message">





    Nh√¢n ng√†y 20/10, Ch√∫c H∆∞·ªùng m√£i xinh ƒë·∫πp, ƒë√°ng y√™u, r·∫°ng r·ª° nh∆∞ m·ªôt ƒë√≥a hoa. N·ª• c∆∞·ªùi c·ªßa c·∫≠u c√≤n s√°ng h∆°n √°nh m·∫∑t tr·ªùi ƒë·∫•yyyyyy.
Ch√∫c c·∫≠u m·ªçi ƒëi·ªÅu t·ªët ƒë·∫πp s·∫Ω t√¨m ƒë·∫øn, lu√¥n h·∫°nh ph√∫c, vui v·∫ª nh∆∞ c√°ch c·∫≠u v·∫´n mang ni·ªÅm vui ƒë·∫øn cho ng∆∞·ªùi kh√°c v√† ƒë∆∞·ª£c y√™u th∆∞∆°ng th·∫≠t nhi·ªÅu







                    </p>
                    <div class="date-time">
                        <span id="current-date"></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Decorative Elements -->
        <div class="decorative-elements">
            <div class="hearts-rain"></div>
            <div class="sparkles"></div>
        </div>
    </div>

    <!-- <script src="script.js"></script> -->
</body>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Elements
        const loading = document.getElementById('loading');
        const modalMain = document.getElementById('modal-main');
        const modalNo = document.getElementById('modal-no');
        const mainContent = document.getElementById('main-content');
        const btnYes = document.getElementById('btn-yes');
        const btnNo = document.getElementById('btn-no');
        const btnChooseAgain = document.getElementById('btn-choose-again');
        const giftBox = document.getElementById('gift-box');
        const giftContent = document.getElementById('gift-content');
        const closeBtn = document.querySelector('.close-btn');
        const currentDateSpan = document.getElementById('current-date');
        let isAnimating = false;            
    
        // Set current date
        const currentDate = new Date();
        currentDateSpan.textContent = currentDate.toLocaleDateString('vi-VN', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });
    
        // Loading Screen Animation
        setTimeout(() => {
            loading.style.opacity = '0';
            setTimeout(() => {
                loading.style.display = 'none';
                modalMain.style.display = 'flex';
            }, 500);
        }, 4000);
    

    
        // Button Event Listeners
        btnYes.addEventListener('click', () => {
            modalMain.style.opacity = '0';
            setTimeout(() => {
                modalMain.style.display = 'none';
                mainContent.style.display = 'block';
                createBalloons();
            }, 500);
        });
    
        btnNo.addEventListener('click', () => {
            modalMain.style.display = 'none';
            modalNo.style.display = 'flex';
        });
    
        btnChooseAgain.addEventListener('click', () => {
            modalNo.style.display = 'none';
            modalMain.style.display = 'flex';
            modalMain.style.opacity = '1';
        });
    
        // Gift Box Click Event
        giftBox.addEventListener('click', () => {
            if (isAnimating) return;
            isAnimating = true;
        
            giftBox.style.animation = 'none';
            giftBox.classList.remove('hover-effect');
            
            setTimeout(() => {
                giftBox.style.transform = 'scale(0) rotate(180deg)';
                giftBox.style.transition = 'transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
                
                setTimeout(() => {
                    giftBox.style.display = 'none';
                    giftContent.style.display = 'block';
                    giftContent.style.animation = 'giftContentAppear 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards';
                    showConfetti();
                    createHearts();
                    isAnimating = false;
                }, 500);
            }, 100);
        });
    
        closeBtn.addEventListener('click', () => {
            if (isAnimating) return;
            isAnimating = true;
        
            giftContent.style.animation = 'giftContentDisappear 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards';
            
            setTimeout(() => {
                giftContent.style.display = 'none';
                giftBox.style.display = 'block';
                giftBox.style.transform = 'scale(1) rotate(0)';
                giftBox.style.transition = 'transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
                
                // Reset animation v√† tr·∫°ng th√°i
                setTimeout(() => {
                    giftBox.style.animation = '';
                    giftBox.style.transition = '';
                    isAnimating = false;
                    
                    // Th√™m l·∫°i hover effect n·∫øu chu·ªôt ƒëang ·ªü tr√™n gift box
                    const rect = giftBox.getBoundingClientRect();
                    const mouseX = event.clientX;
                    const mouseY = event.clientY;
                    
                    if (mouseX >= rect.left && mouseX <= rect.right &&
                        mouseY >= rect.top && mouseY <= rect.bottom) {
                        giftBox.classList.add('hover-effect');
                    }
                }, 500);
            }, 500);
        });
        
        // Th√™m x·ª≠ l√Ω touch events cho mobile
        if ('ontouchstart' in window) {
            let touchTimeout;
            
            giftBox.addEventListener('touchstart', () => {
                if (!isAnimating) {
                    touchTimeout = setTimeout(() => {
                        giftBox.classList.add('hover-effect');
                    }, 100);
                }
            });
        
            giftBox.addEventListener('touchend', () => {
                clearTimeout(touchTimeout);
                if (!isAnimating) {
                    giftBox.classList.remove('hover-effect');
                }
            });
        }
        // Create Hearts
        function createHearts() {
            const container = document.querySelector('.hearts-rain');
            
            function createHeart() {
                const heart = document.createElement('div');
                heart.className = 'heart-particle';
                heart.style.left = `${Math.random() * 100}%`;
                heart.style.animationDuration = `${Math.random() * 3 + 2}s`;
                heart.style.opacity = Math.random();
                container.appendChild(heart);
    
                setTimeout(() => heart.remove(), 5000);
            }
    
            setInterval(createHeart, 300);
        }
    
        // Show Confetti
        function showConfetti() {
            for (let i = 0; i < 100; i++) {
                createConfettiParticle();
            }
        }
    
        function createConfettiParticle() {
            const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#ffeead'];
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.left = `${Math.random() * 100}%`;
            confetti.style.animationDuration = `${Math.random() * 3 + 2}s`;
            confetti.style.opacity = Math.random();
            document.body.appendChild(confetti);
    
            setTimeout(() => confetti.remove(), 5000);
        }
    
        giftBox.addEventListener('mouseenter', () => {
            if (!isAnimating) {
                giftBox.classList.add('hover-effect');
            }
        });
        
        giftBox.addEventListener('mouseleave', () => {
            if (!isAnimating) {
                giftBox.classList.remove('hover-effect');
            }
        });
    
        // Cloud parallax effect
        document.addEventListener('mousemove', (e) => {
            const clouds = document.querySelectorAll('.cloud-img');
            const mouseX = e.clientX / window.innerWidth;
            const mouseY = e.clientY / window.innerHeight;
    
            clouds.forEach(cloud => {
                const speed = cloud.classList.contains('cloud-left-slow') || 
                             cloud.classList.contains('cloud-right-slow') ? 20 : 10;
                const offsetX = (mouseX - 0.5) * speed;
                const offsetY = (mouseY - 0.5) * speed;
    
                cloud.style.transform = `translate(${offsetX}px, ${offsetY}px)`;
            });
        });
    
        // Additional animations for decorative elements
        function createSparkles() {
            const container = document.querySelector('.sparkles');
            
            function createSpark() {
                const spark = document.createElement('div');
                spark.className = 'sparkle';
                spark.style.left = `${Math.random() * 100}%`;
                spark.style.top = `${Math.random() * 100}%`;
                spark.style.animationDuration = `${0.5 + Math.random() * 1}s`;
                container.appendChild(spark);
    
                setTimeout(() => spark.remove(), 1500);
            }
    
            setInterval(createSpark, 200);
        }
    
        // Initialize background animations
        function initializeBackgroundEffects() {
            const clouds = document.querySelectorAll('.cloud-img');
            clouds.forEach((cloud, index) => {
                cloud.style.top = `${20 + (index * 15)}%`;
                cloud.style.opacity = '0';
                setTimeout(() => {
                    cloud.style.opacity = '0.8';
                }, index * 500);
            });
    
            createSparkles();
        }
    
        // Add window resize handler
        window.addEventListener('resize', () => {
            // Adjust balloon positions on window resize
            const balloons = document.querySelectorAll('.balloon');
            balloons.forEach(balloon => {
                balloon.style.left = `${Math.random() * 100}%`;
            });
        });
    
        // Add touch events for mobile devices
        if ('ontouchstart' in window) {
            giftBox.addEventListener('touchstart', () => {
                giftBox.classList.add('shake');
            });
    
            giftBox.addEventListener('touchend', () => {
                giftBox.classList.remove('shake');
            });
        }
    
        // Add some random twinkling stars
        function createStars() {
            const starsContainer = document.querySelector('.stars');
            const starsCount = 50;
    
            for (let i = 0; i < starsCount; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.animationDelay = `${Math.random() * 3}s`;
                starsContainer.appendChild(star);
            }
        }
    
        // Initialize all effects
        function initializeAllEffects() {
            initializeBackgroundEffects();
            createStars();
            // Start with some initial balloons
            for (let i = 0; i < 5; i++) {
                setTimeout(() => createBalloons(), i * 1000);
            }
        }
    
        // Call initialize function when main content is shown
        btnYes.addEventListener('click', () => {
            setTimeout(initializeAllEffects, 500);
        });
    });

//function createFloatingHearts() {
//    const container = document.querySelector('.decorative-elements');
//    
//    function createHeart() {
//        const heart = document.createElement('div');
//        heart.className = 'floating-heart';
//        
//        // Random starting position
//        heart.style.left = `${Math.random() * 100}%`;
//        
//        // Random duration
//        heart.style.setProperty('--float-duration', `${8 + Math.random() * 4}s`);
//        heart.style.setProperty('--x-wave', `${(Math.random() - 0.5) * 200}px`);
//        
//        // Add wavy animation
//        if (Math.random() > 0.5) {
//            heart.classList.add('wavy-heart');
//            heart.style.setProperty('--wave-duration', `${10 + Math.random() * 4}s`);
//        }
//        
//        container.appendChild(heart);
//        
//        // Remove heart after animation
//        setTimeout(() => heart.remove(), 12000);
//    }
//    
//    // Create hearts periodically
//    setInterval(createHeart, 1000);
//    
//    // Create initial hearts
//    for (let i = 0; i < 10; i++) {
//        setTimeout(createHeart, i * 300);
//    }
//}

function initializeHearts() {
    const container = document.querySelector('.floating-hearts-container');
    const heartImages = Array.from(container.querySelectorAll('.heart-image'));
    
    // Clone and restart animation for existing hearts
    function resetHeart(heart) {
        const clone = heart.cloneNode(true);
        heart.parentNode.replaceChild(clone, heart);
        
        // Random position and animation properties
        const left = Math.random() * 100;
        const startX = (Math.random() - 0.5) * 100;
        const duration = 6 + Math.random() * 4;
        
        clone.style.left = `${left}%`;
        clone.style.setProperty('--startX', `${startX}px`);
        clone.style.setProperty('--duration', `${duration}s`);
        
        // Remove and recreate after animation
        setTimeout(() => {
            resetHeart(clone);
        }, duration * 1000);
    }
    
    // Initialize all pre-loaded hearts
    heartImages.forEach(heart => {
        const duration = parseFloat(getComputedStyle(heart).getPropertyValue('--duration'));
        setTimeout(() => {
            resetHeart(heart);
        }, duration * 1000);
    });
    
    // Add new hearts periodically
    function addNewHeart() {
        const heart = document.createElement('img');
        heart.src = Math.random() > 0.5 ? './asset/heart.png' : './asset/heart1.png';
        heart.alt = 'heart';
        heart.className = `heart-image ${['small', 'medium', 'large'][Math.floor(Math.random() * 3)]}`;
        
        const left = Math.random() * 100;
        const startX = (Math.random() - 0.5) * 100;
        const duration = 6 + Math.random() * 4;
        
        heart.style.left = `${left}%`;
        heart.style.setProperty('--startX', `${startX}px`);
        heart.style.setProperty('--duration', `${duration}s`);
        
        container.appendChild(heart);
        
        setTimeout(() => {
            heart.remove();
        }, duration * 1000);
    }
    
    // Create new hearts periodically
    setInterval(addNewHeart, 1000000);
}

// Update event listener for btnYes
btnYes.addEventListener('click', () => {
    modalMain.style.opacity = '0';
    setTimeout(() => {
        modalMain.style.display = 'none';
        mainContent.style.display = 'block';
        initializeHearts();
    }, 500);
});

// Update initializeAllEffects
function initializeAllEffects() {
    initializeBackgroundEffects();
    createStars();
    initializeHearts();
}


</script>

</html>

